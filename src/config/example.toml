# This file is generated by ./risedev generate-example-config
# Check detailed comments in src/common/src/config.rs
[server]
heartbeat_interval_ms = 1000
connection_pool_size = 16
metrics_level = 0
telemetry_enabled = true

[server.auto_dump_heap_profile]
dir = ""
threshold = 0.8999999761581421

[meta]
min_sst_retention_time_sec = 86400
full_gc_interval_sec = 86400
collect_gc_watermark_spin_interval_sec = 5
periodic_compaction_interval_sec = 60
vacuum_interval_sec = 30
vacuum_spin_interval_ms = 10
hummock_version_checkpoint_interval_sec = 30
min_delta_log_num_for_hummock_version_checkpoint = 10
max_heartbeat_interval_secs = 300
disable_recovery = false
meta_leader_lease_secs = 30
default_parallelism = "Full"
enable_compaction_deterministic = false
enable_committed_sst_sanity_check = false
node_num_monitor_interval_sec = 10
backend = "Mem"
periodic_space_reclaim_compaction_interval_sec = 3600
periodic_ttl_reclaim_compaction_interval_sec = 1800
periodic_split_compact_group_interval_sec = 180
move_table_size_limit = 4294967296
split_group_size_limit = 68719476736
do_not_config_object_storage_lifecycle = false
partition_vnode_count = 64
table_write_throughput_threshold = 134217728
min_table_split_write_throughput = 33554432
compaction_task_max_heartbeat_interval_secs = 60

[meta.compaction_config]
max_bytes_for_level_base = 536870912
max_bytes_for_level_multiplier = 5
max_compaction_bytes = 2147483648
sub_level_max_compaction_bytes = 134217728
level0_tier_compact_file_number = 6
target_file_size_base = 33554432
compaction_filter_mask = 6
max_sub_compaction = 4
level0_stop_write_threshold_sub_level_number = 1000
level0_sub_level_compact_level_count = 3
level0_overlapping_sub_level_compact_level_count = 6
max_space_reclaim_bytes = 536870912
level0_max_compact_file_number = 96

[batch]
enable_barrier_read = true

[batch.developer]
batch_connector_message_buffer_size = 16
batch_output_channel_size = 64
batch_chunk_size = 1024

[streaming]
in_flight_barrier_nums = 10000
async_stack_trace = "ReleaseVerbose"
unique_user_stream_errors = 10

[streaming.developer]
stream_connector_message_buffer_size = 16
stream_unsafe_extreme_cache_size = 10
stream_chunk_size = 256
stream_exchange_initial_permits = 2048
stream_exchange_batched_permits = 256
stream_exchange_concurrent_barriers = 1
stream_dml_channel_initial_permits = 32768

[storage]
share_buffers_sync_parallelism = 1
share_buffer_compaction_worker_threads_number = 4
shared_buffer_flush_ratio = 0.800000011920929
imm_merge_threshold = 4
write_conflict_detection_enabled = true
disable_remote_compactor = false
share_buffer_upload_concurrency = 8
compactor_max_task_multiplier = 1.5
compactor_memory_available_proportion = 0.8
sstable_id_remote_fetch_number = 10
min_sst_size_for_streaming_upload = 33554432
max_sub_compaction = 4
max_concurrent_compaction_task_number = 16
max_preload_wait_time_mill = 10
object_store_streaming_read_timeout_ms = 600000
object_store_streaming_upload_timeout_ms = 600000
object_store_upload_timeout_ms = 3600000
object_store_read_timeout_ms = 3600000
object_store_keepalive_ms = 600000
object_store_recv_buffer_size = 2097152
object_store_nodelay = true
object_store_req_retry_interval_ms = 20
object_store_req_retry_max_delay_ms = 10000
object_store_req_retry_max_attempts = 8
compactor_max_sst_key_count = 2097152
compact_iter_recreate_timeout_ms = 600000
compactor_max_sst_size = 536870912

[storage.data_file_cache]
dir = ""
capacity_mb = 1024
file_capacity_mb = 64
device_align = 4096
device_io_size = 16384
flushers = 4
reclaimers = 4
recover_concurrency = 8
lfu_window_to_cache_size_ratio = 1
lfu_tiny_lru_capacity_ratio = 0.01
rated_random_rate_mb = 0
flush_rate_limit_mb = 0
reclaim_rate_limit_mb = 0
refill_levels = []

[storage.meta_file_cache]
dir = ""
capacity_mb = 1024
file_capacity_mb = 64
device_align = 4096
device_io_size = 16384
flushers = 4
reclaimers = 4
recover_concurrency = 8
lfu_window_to_cache_size_ratio = 1
lfu_tiny_lru_capacity_ratio = 0.01
rated_random_rate_mb = 0
flush_rate_limit_mb = 0
reclaim_rate_limit_mb = 0
refill_levels = []

[system]
barrier_interval_ms = 1000
checkpoint_frequency = 1
sstable_size_mb = 256
parallel_compact_size_mb = 512
block_size_kb = 64
bloom_false_positive = 0.001
backup_storage_url = "memory"
backup_storage_directory = "backup"
telemetry_enabled = true
max_concurrent_creating_streaming_jobs = 1
